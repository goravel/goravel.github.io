# Actualizar a v1.9 desde v1.8

## Mejoras üöÄ

- [Actualizar a v1.9 desde v1.8](#upgrading-to-v19-from-v18)
  - [Mejoras üöÄ](#enhancements-)
  - [Rompiendo Cambios üõ†Ô∏è](#breaking-changes-)
  - [Correcci√≥n de errores üêõ](#bug-fixes-)
  - [Actualizaciones de Dependencia ‚¨ÜÔ∏è](#dependency-updates-Ô∏è)
  - [Mejorar Gu√≠a](#upgrade-guide)
    - [Actualizando dependencias](#updating-dependencies)
    - [A√±adir separaci√≥n de lectura-escritura](#add-database-read-write-separation)
    - [A√±adir configuraci√≥n del pool de base de datos](#add-database-pool-configuration)
    - [Ruta .env personalizada](#custom-env-path)
    - [Cache add memory driver](#cache-add-memory-driver)
    - [M√©todo de a√±adir Paginado](#orm-add-paginate-method)
    - [Agregar comando make ](#add-make-command)
    - [A√±adir nuevos m√©todos para la respuesta](#add-new-methods-for-response)
    - [A√±adir retorno al m√©todo de PrepareForValidation de Solicitud](#add-return-for-request-prepareforvalidation-method)
    - [Archivo obtiene el tipo de archivo incorrecto](#file-gets-the-wrong-file-type)
    - [Corregir error de plantilla en make:event y el comando make:listener](#fix-template-error-on-makeevent-and-makelistener-command)
    - [Arreglar algunos tipos no pueden obtener sufijos cuando se guarda el archivo](#fix-some-types-cannot-obtain-suffixes-when-save-file)

## Cambios de ruptura üõ†Ô∏è

- [A√±adir devoluci√≥n para el m√©todo PrepareForValidation de Solicitud (1.9.0)](#add-return-for-request-prepareforvalidation-method)

## Corregir errores üêõ

- [Archivo obtiene el tipo de archivo incorrecto(1.9.0)](#file-gets-the-wrong-file-type)
- [Corregir error de plantilla en make:event y make:listener command(1.9.0)](#fix-template-error-on-make-event-and-make-listener-command)
- [Arreglar algunos tipos no pueden obtener sufijos cuando se guarda el archivo(1.9.1)](#fix-some-types-cannot-obtain-suffixes-when-save-file)

## Actualizaciones de dependencias ‚¨ÜÔ∏è

- build(deps): bump github.com/gin-gonic/gin de v1.7.3 a v1.8.2

## Actualizar Gu√≠a

**Tiempo estimado de mejora: 10 minutos**

### Actualizando dependencias

Actualizar dependencias en el archivo `go.mod`:

```
ve a obtener -u github.com/goravel/framework@v1.9.0
```

### A√±adir separaci√≥n de lectura-escritura de base de datos

Versi√≥n: v1.9.0

La base de datos soporta separaci√≥n de lectura-escritura,[Para m√°s informaci√≥n](../orm/quickstart#read--write-connections).

### A√±adir configuraci√≥n del pool de base de datos

Versi√≥n: v1.9.0

A√±adir configuraci√≥n de pool para el archivo de configuraci√≥n de base de datos:
`config/database.go`, [Para m√°s detalles](https://github.com/goravel/goravel/blob/v1.9.x/config/database.go).

### Ruta .env personalizada

Versi√≥n: v1.9.0

```
// Desarrollar
go run . --env=../.env

// Compilado
./main --env=../.env
```

### Cache a√±adir controlador de memoria

Versi√≥n: v1.9.0

`config/cache.go` a√±ade la configuraci√≥n `memory`Ôºö

```
"stores": map[string]any{
  // New
  "memory": map[string]any{
    "driver": "memory",
  },
},
```

[Para m√°s informaci√≥n](https://github.com/goravel/goravel/blob/v1.9.x/config/cache.go)

### M√©todo de a√±adir Paginate

Versi√≥n: v1.9.0

`facades.Orm` a√±ade el m√©todo `Paginate`, [Para m√°s detalles](../orm/quickstart#Paginate).

### A√±adir comando make

Versi√≥n: v1.9.0

```
// Crear controlador
go run. artisan make:controller UserController

// Crear middleware
go run . artisan make:middleware Cors

// Crear modelo
go run . artisan make:model User
```

### A√±adir nuevos m√©todos para responder

Versi√≥n: v1.9.0

| M√©todo    | Accin                                                     |
| --------- | --------------------------------------------------------- |
| Datos     | [Retorno personalizado](../basic/responses#custom-return) |
| Redirigir | [Redirect](../basic/responses#redirect)                   |

### A√±adir retorno para el m√©todo de solicitud de PrepareForValidation

Versi√≥n: v1.9.0

Si est√°s usando [el m√©todo PrepareForValidation en Validation](../basic/validation#format-data-before-validation),
por favor a√±ade un valor de devoluci√≥n: `Error de PrepareForValidation(validaci√≥n de datos.Data`.

### El archivo obtiene el tipo de archivo incorrecto

Versi√≥n: v1.9.0

Corregir el problema que `.docx`, `.xlsx`, etc. est√°n identificados incorrectamente como `.zip`.

### Corregir error de plantilla en el comando make:event y make:listener

Versi√≥n: v1.9.0

`import "github.com/goravel/framework/contracts/events"` ‚úÖ `import "github.com/goravel/framework/contracts/event"`

### Arreglar algunos tipos no pueden obtener sufijos al guardar el archivo

Versi√≥n: v1.9.1

Algunos tipos no pueden obtener sufijos a trav√©s del c√≥digo que se muestra a continuaci√≥n:

```go
file, err := ctx.Request().File()   
file.Store("upload")
```
