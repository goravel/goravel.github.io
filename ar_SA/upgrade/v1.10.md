# ุงูุชุฑููุฉ ุฅูู v1.10 ูู v1.9

## ูููุฒุงุช ุฌุฏูุฏุฉ ูุซูุฑุฉ ๐

- [ุฅุถุงูุฉ ูุงุฌูุงุช.Crypt(1.10.0)](#encryption)
- [ุฅุถุงูุฉ ูุงุฌูุงุช.ูุงุด(1.10.0)](#hashing)
- [ุฅุถุงูุฉ ุชุญุฏูุฏ ูุนุฏู ููุทุฑููุฉ (1.10.0)](#add-rate-limiting-for-routing)

## ุชุนุฒูุฒ ๐

- [ุงูุชุฑููุฉ ุฅูู v1.10 ูู v1.9](#upgrading-to-v110-from-v19)
  - [ููุฒุงุช ุฌุฏูุฏุฉ ูุซูุฑุฉ ๐](#exciting-new-features-)
  - [ุงูุชุญุณููุงุช ๐](#enhancements-)
  - [ูุณุฑ ุงูุชุบููุฑุงุช ๐๏ธ](#breaking-changes-)
  - [ุชุฑููุฉ ุงูุฏููู](#upgrade-guide)
    - [ุชุญุฏูุซ ุงูุชุจุนูุงุช](#updating-dependencies)
    - [Encryption](#encryption)
    - [Hashing](#hashing)
    - [ุฅุถุงูุฉ ุชุญุฏูุฏ ูุนุฏู ููุชูุฌูู](#add-rate-limiting-for-routing)
    - [ุชุญุณูู ูุถุน ุจุฏุก ุชุดุบูู HTTP](#optimize-http-startup-mode)
    - [ุชุญุณูู ูุถุน ุจุฏุก ุชุดุบูู GRPC ](#optimize-grpc-startup-mode)
    - [ุฅุถุงูุฉ ุชูููู ููุชุญูู ูู ุฅุฎุฑุงุฌ ุงูุณุฌู ุฅูู ูุญุฏุฉ ุงูุชุญูู](#add-configuration-to-control-log-output-to-console)
    - [ุทูุจ ุชุนุฏูู ูุฅุถุงูุฉ ุงูุฃุณุงููุจ] (#request-modify-and-add-methods)
    - [ุฅุฑุณุงู ุงูุฏุนู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ] (#queue-support-delayed-dispatching)
    - [ุงูุงุชุตุงู ูู ORM ูุฏุนู ุจุงุฏุฆุฉ ุงูุฌุฏูู ุงููุญุฏุฏุฉ ูุงูููุฑุฏุฉ](#the-connection-in-orm-supports-set-table-prefix-and-singular)
    - [ุฅุถุงูุฉ ููู docker-compose.yml](#add-docker-composeyml-file)
    - [ุชุญุณูู ุชุฑุชูุจ](#optimize-orm)
    - [ุฏุนู ุนุฏุฉ SQL ูู ููู ุงููุฌุฑุฉ](#support-multiple-sql-in-migration-file)
    - [ุฅุถุงูุฉ ูุดุบู ูุตุบุฑ ูุชุฎุฒูู ุงููููุงุช](#add-minio-driver-for-file-storage)
    - [ุงูุนููุฏ/(A/AC.26p ุฅุถุงูุฉ ุชุนููู ุงูุญุงูุฉ ูู net/http](#contractshttp-add-status-mapping-of-nethttp)
    - [APP\_KEY ูุทููุจ](#app_key-required)
    - [ุฅุถุงูุฉ ูุนููุฉ ctx ุฅูู ุงูุฃุณุงููุจ ูู ุฅุทุงุฑ ุทูุจ ุงููููุฐุฌ](#add-ctx-parameter-to-the-methods-under-form-request)
    - [facades.Auth.Parse ุฅุถุงูุฉ ุฅุฑุฌุงุน ุงูุญูููุฉ](#facadesauthparse-add-payload-returns)
    - [ุจุนุถ ุทุฑู "Orm ุชุถูู ููู ุฅุฑุฌุงุน ุฌุฏูุฏุฉ](#some-methods-of-orm-add-new-return-values)

## ูุณุฑ ุงูุชุบููุฑุงุช ๐๏ธ

- [APP_KEY ูุทููุจ(1.10.0)](#app-key-required)
- [ุฅุถุงูุฉ ูุนููุฉ ctx ุฅูู ุงูุฃุณุงููุจ ูู ุทูุจ ุงููููุฐุฌ (1.10.0)](#add-ctx-parameter-to-the-methods-under-form-request)
- [facades.Auth.Parse ูุถูู ุฅุฑุฌุงุน ุงูุญูููุฉ (1.10.0)](#facades-auth-parse-add-payload-returns)
- [ุจุนุถ ุทุฑู "Orm ุชุถูู ููู ุฅุฑุฌุงุน ุฌุฏูุฏุฉ" (1.10.0)](#some-methods-of-orm-add-new-return-values)

## ุฏููู ุงูุชุฑููุฉ

**ุงูููุช ุงูุชูุฏูุฑู ููุชุฑููุฉ: 20 ุฏูููุฉ**

### ุชุญุฏูุซ ุงูุชุจุนูุงุช

ุชุญุฏูุซ ุงูุฅุนุชูุงุฏุงุช ูู ููู 'go.mod':

```
go get -u github.com/goravel/framework@v1.10.0 && go mod tidy
```

### ุงูุชุดููุฑ

ุงูุฅุตุฏุงุฑ: v1.10.0

ุฅุถุงูุฉ `facades.Crypt`:

1. ุฅุถุงูุฉ '&crypt.ServiceProvider{}' ุฅูู ุนูุตุฑ 'providers' ูู
  ููู [config/app.go](https://github.com/goravel/goravel/blob/v1.10.x/config/app.go)ุ

[ููุญุตูู ุนูู ุงูุชูุงุตูู](../security/encryption)

### ุงูุชุฌุฒุฆุฉ

ุงูุฅุตุฏุงุฑ: v1.10.0

ุฅุถุงูุฉ `facades.Hash`:

1. ุฅุถุงูุฉ '&hash.ServiceProvider{}' ุฅูู ุนูุตุฑ 'providers' ูู
  ููู [config/app.go](https://github.com/goravel/goravel/blob/v1.10.x/config/app.go)ุ

2. ุฅุถุงูุฉ ููู [config/hashing.go](https://github.com/goravel/goravel/blob/v1.10.x/config/hashing.go) ุ

[ููุญุตูู ุนูู ุงูุชูุงุตูู](../security/hashing)

### ุฅุถุงูุฉ ุชุญุฏูุฏ ูุนุฏู ููุชูุฌูู

ุงูุฅุตุฏุงุฑ: v1.10.0

[ููุญุตูู ุนูู ุงูุชูุงุตูู](../basic/routing#Rate-Limiting)

### ุชุญุณูู ูุถุน ุจุฏุก ุชุดุบูู HTTP

ุงูุฅุตุฏุงุฑ: v1.10.0

1. ุฅุถุงูุฉ ุชูููู \`config/http.go'ุ [ููุญุตูู ุนูู ุงูุชูุงุตูู](https://github.com/goravel/goravel/blob/v1.10.x/config/http.go)ุ
2. The `facades.Route.Run` method no longer needs to pass parameters, by default use `http.host` and `http.port`(you
  don't need to modify the code, it's backward compatible);
3. ูู ุชุนุฏ ุทุฑููุฉ `facades.Route.RunTLS` ุจุญุงุฌุฉ ุฅูู ุชูุฑูุฑ ุงููุนููุงุชุ ุจุดูู ุงูุชุฑุงุถู ุจุงุณุชุฎุฏุงู `http.tls.host`ุ
  `{ p. ls.port`, 'http.tls.ssl.cert' ู 'http.tls.ssl.key\`, ุฅุฐุง ููุช ุชุณุชุฎุฏูู, ุชุญุชุงุฌ ุฅูู ุชุนุฏูู ุงูููุฏ;
4. ุฅุถุงูุฉ ุทุฑููุฉ 'facades.Route.RunTLSShCert'ุ [ููุญุตูู ุนูู ุงูุชูุงุตูู](../basic/routing#start-server)ุ
5. ููู `app.url`ุ `app.host' ุฅูู `http.url`ุ `http.host\`ุ

### ุชุญุณูู ูุถุน ุจุฏุก ุชุดุบูู GRPC

ุงูุฅุตุฏุงุฑ: v1.10.0

The `facades.Grpc.Run` method no longer needs to pass parameters, by default use `grpc.host` and `grpc.port`(you don't
need to modify the code, it's backward compatible);

### ุฅุถุงูุฉ ุชูููู ููุชุญูู ูู ุฅุฎุฑุงุฌ ุงูุณุฌู ุฅูู ูุญุฏุฉ ุงูุชุญูู

ุงูุฅุตุฏุงุฑ: v1.10.0

ุฅุถุงูุฉ ุชูููู `print` ุฅูู ููุงุฉ `single`ุ `daily` ูู ููู `config/logging.go`ุ ูููููุง ุงูุชุญูู ูู ุฅุฎุฑุงุฌ ุงูุณุฌู ุฅูู ูุญุฏุฉ ุงูุชุญูู
ุ [ููุญุตูู ุนูู ุงูุชูุงุตูู](https://github.com/goravel/goravel/blob/v1.10.x/config/logging.go)ุ

### ุทูุจ ุชุนุฏูู ูุฅุถุงูุฉ ุทุฑู

ุงูุฅุตุฏุงุฑ: v1.10.0

1. ูุชู ุชุบููุฑ ุทุฑููุฉ "ุงูุฅุฏุฎุงู" ูู ุงูุญุตูู ุนูู ูุนููุงุช ุงูุชูุฌูู ููุท ุฅูู ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ูููุง ููุทูุจ ุงูุชุงูู:
  'json`ุ `form`, `query`, `route`<unk> ููุงุญุธุฉ: `json\` ูููู ุฃู ูุญุตู ููุท ุนูู ุจูุงูุงุช ุฃุญุงุฏูุฉ ุงูุฃุจุนุงุฏุ ูุฅูุง ูุณูุนูุฏ ูุงุฑุบุงูุ
2. ุฅุถุงูุฉ ุทุฑููุฉ 'Route' ูุงุณุชุจุฏุงู ุทุฑููุฉ 'Input' ุงูุฃุตููุฉุ
3. ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูุทุฑููุชู "ุงูุงุณุชูุณุงุฑ" ู "ุงุณุชูุงุฑุฉ ุงูุงุณุชูุณุงุฑ" ูุนุฏูุฉ ุจุญูุซ ุชููู ุบูุฑ ุถุฑูุฑูุฉุ
4. ุชุถุงู ุงูุทุฑู ุนูู ุงููุญู ุงููุจูู ุฃุฏูุงู:

| ุงูุทุฑููุฉ    | ุงุฌุฑุงุก                                                                                       |
| ---------- | ------------------------------------------------------------------------------------------- |
| ุงูุทุฑูู     | [ุงุณุชุฑุฌุงุน ูููุฉ ุงูุทุฑูู](../basic/requests#Retrieving-An-Input-Value)                          |
| ุฑูุชููุช     | [ุงุณุชุฑุฌุงุน ูููุฉ ุงูุทุฑูู](../basic/requests#Retrieving-An-Input-Value)                          |
| RouteInt64 | [ุงุณุชุฑุฌุงุน ูููุฉ ุงูุทุฑูู](../basic/requests#Retrieving-An-Input-Value)                          |
| QueryInt   | [ุงุณุชุฑุฏุงุฏ ุงูุฅุฏุฎุงู ูู ูุต ุงูุงุณุชูุณุงุฑ](../basic/requests#Retrieving-Input-From-The-Query-String) |
| QueryInt64 | [ุงุณุชุฑุฏุงุฏ ุงูุฅุฏุฎุงู ูู ูุต ุงูุงุณุชูุณุงุฑ](../basic/requests#Retrieving-Input-From-The-Query-String) |
| QueryBool  | [ุงุณุชุฑุฏุงุฏ ุงูุฅุฏุฎุงู ูู ูุต ุงูุงุณุชูุณุงุฑ](../basic/requests#Retrieving-Input-From-The-Query-String) |
| InputInt   | [ุงุณุชุฑุฌุงุน ูููุฉ ุงูุฅุฏุฎุงู](../basic/requests#Retrieving-An-Input-Value)                         |
| InputInt64 | [ุงุณุชุฑุฌุงุน ูููุฉ ุงูุฅุฏุฎุงู](../basic/requests#Retrieving-An-Input-Value)                         |
| InputBool  | [ุงุณุชุฑุฌุงุน ูููุฉ ุงูุฅุฏุฎุงู](../basic/requests#Retrieving-An-Input-Value)                         |
| Json       | [ุงุณุชุฑุฌุงุน Json](../basic/requests#Retrieving-Json)                                           |

### ุชุฃุฎูุฑ ุฅุฑุณุงู ุงูุฏุนู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ

ุงูุฅุตุฏุงุฑ: v1.10.0

ุฅุถุงูุฉ ุทุฑููุฉ \`ุงูุชุฃุฎูุฑ'ุ [ููุญุตูู ุนูู ุงูุชูุงุตูู](../advanced/queues#Delayed-Dispatching)

### ุงูุงุชุตุงู ูู ORM ูุฏุนู ุจุงุฏุฆุฉ ุฌุฏูู ูุญุฏุฏุฉ ูููุฑุฏุฉ

ุงูุฅุตุฏุงุฑ: v1.10.0

1. ูุฏุนู 'ุงููููุฐุฌ' ุชุญุฏูุฏ ุงุณู ุงูุฌุฏููุ [ููุญุตูู ุนูู ุงูุชูุงุตูู](../orm/quickstart)ุ
2. ุฅุถุงูุฉ ููุงุชูุญ ุฌุฏูุฏุฉ ุฅูู `ุงูุงุชุตุงู` ูู `config/database.go`:

`prefix`: Set prefix for table name;
`singular`: Set the table name to use singular or plural;

[ููุญุตูู ุนูู ุงูุชูุงุตูู](https://github.com/goravel/goravel/blob/v1.10.x/config/database.go)

### ุฅุถุงูุฉ ููู docker-compose.yml

ุงูุฅุตุฏุงุฑ: v1.10.0

ููููู ุจุฏุก ุงูุฎุฏูุฉ ุจุณุฑุนุฉ ูุน ุงูุฃูุฑ ุงูุชุงูู:

```
ุฅูุดุงุก docker-- ุชูููู
docker-ุชูููู
```

### ุชุญุณูู ุงูููุงุฉ

ุงูุฅุตุฏุงุฑ: v1.10.0

1. ุชุถุงู ุงูุทุฑู ุงูุชุงููุฉ:

| ุงูุฏูุงู      | ุงุฌุฑุงุก                                                              |
| ----------- | ------------------------------------------------------------------ |
| ุฃููุงู ุฃู    | [ุงูุงุณุชุนูุงู ุฃู ุฅุฑุฌุงุน ุงูุจูุงูุงุช ูู ุฎูุงู ุฑุฏ ุงูููุงููุฉ](#Query-one-line) |
| ุฃูุณุชูุฑููู   | [ุงุณุชุฑุฌุงุน ุฃู ููุงุฐุฌ ุฌุฏูุฏุฉ](#Retrieving-Or-Creating-Models)           |
| ุงููุดู ุงูุฃูู | [ูู ูุชู ุงูุนุซูุฑ ุนูู ุฎุทุฃ](#Not-Found-Error)                          |
| ุชุญุฏูุซ       | [ุชุญุฏูุซ ุฃู ุฅูุดุงุก](#Update-or-create)                                |

2. ุชู ุงูุฅุจูุงุบ ุนู ุฎุทุฃ ูุซู ูุฐุง ูู ูุจูุ ูููู ุงูุขู ูุฏุนูู:

```go
ุงูุงุณุชูุณุงุฑ := facades.Orm.Query()
ุงุณุชูุณุงุฑ = ุงุณุชูุณุงุฑ.Where()
```

### ุฏุนู ุนุฏุฉ SQL ูู ููู ุงูุชุฑุญูู

ุงูุฅุตุฏุงุฑ: v1.10.0

ุณุงุจูุงูุ ูุงู ุจูุงู SQL ูุงุญุฏ ููุท ูุฏุนููุงู ูู ููู ุงูุชุฑุญููุ ูููู ุงูุขู ูุชู ุฏุนู ุจูุงูุงุช ูุชุนุฏุฏุฉ.

### ุฅุถุงูุฉ ูุดุบู ูุตุบุฑ ูุชุฎุฒูู ุงููููุงุช

ุงูุฅุตุฏุงุฑ: v1.10.0

ุฅุถุงูุฉ ุชูููู ูุตุบุฑุ [ููุญุตูู ุนูู ุงูุชูุงุตูู](https://github.com/goravel/goravel/blob/v1.10.x/config/filesystems.go).

### ุงูุนููุฏ/Adp ุฅุถุงูุฉ ุชุนููู ุญุงูุฉ ูnet/lenp

ุงูุฅุตุฏุงุฑ: v1.10.0

ููููู ุงุณุชุฎุฏุงู ุฑููุฒ ุงูุญุงูุฉ ูุซู `http.StatusOK` ูุจุงุดุฑุฉ ูู ูุญุฏุฉ ุงูุชุญูู ุฏูู ุงุณุชูุฑุงุฏ `net/http`.

[ููุญุตูู ุนูู ุงูุชูุงุตูู](https://github.com/goravel/framework/blob/v1.10.0/contracts/http/status.go)

### APP_ููุชุงุญ ูุทููุจ

ุงูุฅุตุฏุงุฑ: v1.10.0

ุชู ุชุบููุฑ `APP_KEY` ูู ุงูููู `.env` ุฅูู ุงููุทููุจุ ููููู ุชุดุบูู ุงูุฃูุฑ ูุชูููุฏ APP_KEY:
`ุงูุชูู ุฅูู ุงูุชุดุบูู. ููุชุงุญ ุญุฑูู:generate`.

### ุฅุถุงูุฉ ูุนููุฉ ctx ุฅูู ุงูุฃุณุงููุจ ุชุญุช ุทูุจ ุงููููุฐุฌ

ุงูุฅุตุฏุงุฑ: v1.10.0

ุฅุถุงูุฉ ูุนููุฉ 'ctx http.Context' ุฅูู ุงูุฃุณุงููุจ ุชุญุช ุงูุทูุจ ุงููููุฐุฌู: 'Rules', `Messages', `Attributes',
\`PrepareForValidation', ูุชูุญ ูู ุงูููุงู ุจุงููุฒูุฏ ูู ุงูุฅุนุฏุงุฏุงุช ุงููุฎุตุตุฉ.

[ููุญุตูู ุนูู ุงูุชูุงุตูู](../basic/validation#creating-form-requests)

### facades.Auth.Parse ุฅุถุงูุฉ ุฅุฑุฌุงุน ุงูุญูููุฉ

ุงูุฅุตุฏุงุฑ: v1.10.0

'err := facades.Auth.Parse(ctx, token)' ุชุบููุฑ ุฅูู 'payloadad, err := facades.Auth.Parse(ctx, token)`ุ ูู ุฎูุงู 'payload`
ููููู ุงูุญุตูู ุนูู:

1. `ุงูุญุฑุณ`: ุงูุญุฑุณ ุงูุญุงููุ
2. `ุงูููุชุงุญ`: ุนูู ุงููุณุชุฎุฏูุ
3. `ุงูุชูุงุก ุตูุงุญูุชูุง`: ููุช ุงูุชูุงุก ุงูุตูุงุญูุฉุ
4. `IssuedAt`: ููุช ุงูุฅุตุฏุงุฑุ

[ููุญุตูู ุนูู ุงูุชูุงุตูู](../security/authentication#parse-token)

### ุจุนุถ ุทุฑู Orm ุชุถูู ููู ุฅุฑุฌุงุน ุฌุฏูุฏุฉ

ุงูุฅุตุฏุงุฑ: v1.10.0

ุงูุทุฑู ุงูุชุงููุฉ ุชุถูู ูููุฉ ุงูุนุงุฆุฏ '\*ูุชูุฌุฉ' ููุญุตูู ุนูู ุนุฏุฏ ุงูุตููู ุงููุชุฃุซุฑุฉ:

```go
res, err := query.Delete(&user)
res, err := query.Exec(fmt.Sprintf("DLETE FROM ุญูุซ ุงููุนุฑู = %d", user.ID))
ุ ุงูุฎุทุฃ := ุงูุงุณุชุนูุงู. orceDelete(&User{})
res, err := query.Updates(User{Avatar: "Avatar"})

// ุงูุตููู ุงููุชุฃุซุฑุฉ
num := res.RowsAffected
```
