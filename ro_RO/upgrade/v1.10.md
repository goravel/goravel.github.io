# Actualizare la v1.10 De la v1.9

## FuncÈ›ii noi sunt incredibile ğŸ‰

- [Add facades.Crypt(1.10.0)](#encryption)
- [Add facades.Hash(1.10.0)](#hashing)
- [Add Rate Limiting for Routing(1.10.0)](#add-rate-limiting-for-routing)

## ÃmbunÄƒtÄƒÈ›iri ğŸš€

- [Actualizare la v1.10 De la v1.9](#upgrading-to-v110-from-v19)
  - [Excitare Caracteristici noi ğŸ‰](#exciting-new-features-)
  - [ÃmbunÄƒtÄƒÈ›iri ğŸš€](#enhancements-)
  - [Ruperea modificÄƒrilor ğŸ› ï¸](#breaking-changes-)
  - [Ghid de actualizare](#upgrade-guide)
    - [Actualizare dependenÈ›e](#updating-dependencies)
    - [Encryption](#encryption)
    - [Hashing](#hashing)
    - [Add Rate Limiting for Routing](#add-rate-limiting-for-routing)
    - [Optimizare mod de pornire HTTP](#optimize-http-startup-mode)
    - [Optimizare mod de pornire GRPC](#optimize-grpc-startup-mode)
    - [Add configuration to control log output to console](#add-configuration-to-control-log-output-to-console)
    - [Request modify and add methods](#request-modify-and-add-methods)
    - Suport de aÈ™teptare Ã®ntÃ¢rziat expediere](#queue-support-delayed-dispatching)
    - [Conexiunea Ã®n ORM suportÄƒ prefixul tabelului setat È™i singular](#the-connection-in-orm-supports-set-table-prefix-and-singular)
    - [Add docker-compose.yml file](#add-docker-composeyml-file)
    - [Optimizare orm](#optimize-orm)
    - [SuportÄƒ multiple SQL Ã®n fiÈ™ierul de migrare](#support-multiple-sql-in-migration-file)
    - [Add minio driver for File Storage](#add-minio-driver-for-file-storage)
    - [contracts/http add status mapping of net/http](#contractshttp-add-status-mapping-of-nethttp)
    - [APP\_KEY necesare](#app_key-required)
    - [AdÄƒugare parametru ctx la metodele din formularul de cerere](#add-ctx-parameter-to-the-methods-under-form-request)
    - [facades.Auth.Parse add payload returns](#facadesauthparse-add-payload-returns)
    - [Unele metode de Orm adaugÄƒ noi valori de returnare](#some-methods-of-orm-add-new-return-values)

## Ruperea modificÄƒrilor ğŸ› ï¸

- [APP_KEY necesar (1.10.0)](#app-key-required)
- [Add ctx parameter to the methods under formular Request(1.10.0)](#add-ctx-parameter-to-the-methods-under-form-request)
- [facades.Auth.Parse adaugÄƒ payload returns(1.10.0)](#facades-auth-parse-add-payload-returns)
- [Unele metode de Orm adaugÄƒ noi valori de returnare (1.10.0)](#some-methods-of-orm-add-new-return-values)

## Ghid de actualizare

**Timp estimat de actualizare: 20 de minute**

### Actualizarea dependentelor

ActualizeazÄƒ dependenÈ›ele Ã®n fiÈ™ierul `go.mod`:

```
go get -u github.com/goravel/framework@v1.10.0 && go mod tidy
```

### Criptare

Versiune: v1.10.0

AdaugÄƒ `facades.Crypt`:

1. adaugÄƒ `&crypt.ServiceProvider{}` la elementul `furnizori` din secÈ›iunea
  [config/app.go](https://github.com/goravel/goravel/blob/v1.10.x/config/app.go) fiÈ™ierului;

[Pentru detaliu](../security/encryption)

### Hashing

Versiune: v1.10.0

AdaugÄƒ `facades.Hash`:

1. adÄƒugaÈ›i `&hash.ServiceProvider{}` la elementul `furnizori` din secÈ›iunea
  [config/app.go](https://github.com/goravel/goravel/blob/v1.10.x/config/app.go) fiÈ™ierului;

2. AdaugÄƒ fiÈ™ierul [config/hashing.go](https://github.com/goravel/goravel/blob/v1.10.x/config/hashing.go);

[Pentru detaliu](../security/hashing)

### AdaugÄƒ ratÄƒ de limitare pentru rutare

Versiune: v1.10.0

[Pentru detaliu](../basic/routing#Rate-Limiting)

### Optimizare mod de pornire HTTP

Versiune: v1.10.0

1. AdÄƒugaÈ›i configuraÈ›ia `config/http.go`, [Pentru detalii](https://github.com/goravel/goravel/blob/v1.10.x/config/http.go);
2. Metoda `facades.Route.Run` nu mai are nevoie sÄƒ treacÄƒ parametrii, implicit foloseÈ™te `http.host` È™i `http.port`(tu
  nu trebuie sÄƒ modifici codul, este compatibil cu backward);
3. Metoda `facades.Route.RunTLS` nu mai are nevoie sÄƒ treacÄƒ parametrii, utilizaÈ›i implicit `http.tls.host`,
  `http. ls.port`, `http.tls.ssl.cert` ÅŸi `http.tls.ssl.key`, dacÄƒ Ã®l folosiÅ£i, trebuie sÄƒ modificaÅ£i codul;
4. AdÄƒugaÈ›i metoda `facades.Route.RunTLSWithCert`, [Pentru detalii](../basic/routing#start-server);
5. MutaÅ£i `app.url`, `app.host` Ã®n `http.url`, \`http.host';

### Optimizare mod de pornire GRPC

Versiune: v1.10.0

The `facades.Grpc.Run` method no longer needs to pass parameters, by default use `grpc.host` and `grpc.port`(you don't
need to modify the code, it's backward compatible);

### AdÄƒugaÅ£i configuraÅ£ia pentru a controla intrarea log-urilor Ã®n consolÄƒ

Versiune: v1.10.0

AdÄƒugaÅ£i configuraÅ£ia `print` la `single`, canalul `ziy` Ã®n fiÅŸierul `config/logging.go`, poate controla log-ul la consola
, [Pentru detaliu](https://github.com/goravel/goravel/blob/v1.10.x/config/logging.go);

### Solicitare modificare È™i adÄƒugare metode

Versiune: v1.10.0

1. Metoda `Input` este schimbatÄƒ de la obÈ›inerea doar a parametrilor de rutare la obÈ›inerea datelor Ã®n conformitate cu urmÄƒtoarea ordine:
  `json`, `form`, `query`, `route`ouncNotÄƒ: `json` poate obÅ£ine doar date unidimensionale, Ã®n caz contrar se va returna gol;
2. AdÄƒugaÈ›i metoda `Route` pentru a Ã®nlocui metoda originalÄƒ `Input`;
3. Valoarea implicitÄƒ a metodelor `Query` ÅŸi `Form` sunt modificate pentru a fi inutilÄƒ;
4. AdaugÄƒ metode dupÄƒ cum se aratÄƒ mai jos:

| MetodÄƒ     | AcÈ›iune                                                                                              |
| ---------- | ---------------------------------------------------------------------------------------------------- |
| Ruta       | [Preluarea unei valori a rutei](../basic/requests#Retrieving-An-Input-Value)                         |
| RuteInt    | [Preluarea unei valori a rutei](../basic/requests#Retrieving-An-Input-Value)                         |
| RutÄƒInt64  | [Preluarea unei valori a rutei](../basic/requests#Retrieving-An-Input-Value)                         |
| QueryInt   | [Preluare intrare din È™irul de interogÄƒri](../basic/requests#Retrieving-Input-From-The-Query-String) |
| QueringÄƒ64 | [Preluare intrare din È™irul de interogÄƒri](../basic/requests#Retrieving-Input-From-The-Query-String) |
| QueryBool  | [Preluare intrare din È™irul de interogÄƒri](../basic/requests#Retrieving-Input-From-The-Query-String) |
| InputInt   | [Preluarea unei valori de intrare](../basic/requests#Retrieving-An-Input-Value)                      |
| InputInt64 | [Preluarea unei valori de intrare](../basic/requests#Retrieving-An-Input-Value)                      |
| InputBool  | [Preluarea unei valori de intrare](../basic/requests#Retrieving-An-Input-Value)                      |
| Json       | [Preluarea Json](../basic/requests#Retrieving-Json)                                                  |

### Suport pentru aÈ™teptare Ã®ntÃ¢rziat expedierea

Versiune: v1.10.0

AdaugÄƒ metoda `Delay`, [Pentru Detalii](../advanced/queues#Delayed-Dispatching)

### Conexiunea Ã®n ORM suportÄƒ prefixul tabelului setat È™i singular

Versiune: v1.10.0

1. `Model` suportÄƒ numele tabelului specificat, [Pentru detalii](../orm/quickstart);
2. AdÄƒugaÈ›i chei noi la `connection` din `config/database.go`:

`prefix`: SeteazÄƒ prefixul pentru numele tabelelor;
`singular`: SeteazÄƒ numele tabelului pentru a utiliza singular sau plural;

[Pentru detaliu](https://github.com/goravel/goravel/blob/v1.10.x/config/database.go)

### AdÄƒugaÈ›i fiÈ™ierul docker-compose.yml

Versiune: v1.10.0

PuteÈ›i porni rapid serviciul cu urmÄƒtoarea comandÄƒ:

```
compunere docker-compose
docker-compose
```

### OptimizeazÄƒ Orm

Versiune: v1.10.0

1. Se adaugÄƒ urmÄƒtoarele metode:

| FuncÈ›ii             | AcÈ›iune                                                    |
| ------------------- | ---------------------------------------------------------- |
| Primul              | [Query or return data through callback](#Query-one-line)   |
| FirstOrNew          | [Preluarea sau noi modele](#Retrieving-Or-Creating-Models) |
| FirstOrFail         | [Eroare negÄƒsitÄƒ](#Not-Found-Error)                        |
| ActualizareOrCreare | [Actualizare sau creare](#Update-or-create)                |

2. A fost raportatÄƒ o astfel de eroare Ã®nainte, dar acum este acceptatÄƒ:

```go
interogare := facades.Orm.Query()
interogare = query.Where()
```

### Suporta multiple SQL in fisierul de migrare

Versiune: v1.10.0

Anterior, o singurÄƒ declaraÈ›ie SQL era acceptatÄƒ Ã®n dosarul migraÈ›iei, dar acum sunt susÈ›inute mai multe declaraÈ›ii.

### AdaugÄƒ minio È™ofer pentru stocarea fiÈ™ierelor

Versiune: v1.10.0

AdaugÄƒ minio configuraÈ›ie, [pentru detalii](https://github.com/goravel/goravel/blob/v1.10.x/config/filesystems.go).

### contracte/http adaugÄƒ status maping net/http

Versiune: v1.10.0

PuteÅ£i folosi coduri de stare cum ar fi `http.StatusOK` direct Ã®n controller fÄƒrÄƒ a importa `net/http`.

[Pentru detaliu](https://github.com/goravel/framework/blob/v1.10.0/contracts/http/status.go)

### KEY necesar

Versiune: v1.10.0

`APP_KEY` din fiÅŸierul `.env` este schimbat la necesar ÅŸi poÅ£i executa comanda pentru a genera APP_KEY:
\`go run . cheie artizanalÄƒ:generate".

### AdaugÄƒ parametrul ctx la metodele de la formularul de cerere

Versiune: v1.10.0

AdÄƒugaÅ£i parametrul `ctx http.Context` la metodele din formularul de cerere: `Rules`, `Messages`, `Attributes`,
`PrepareForValidation`, vÄƒ permite sÄƒ faceÅ£i mai multe configuraÅ£ii personalizate.

[Pentru detaliu](../basic/validation#creating-form-requests)

### faÈ›ades.Auth.Parse add payload return

Versiune: v1.10.0

`err := facades.Auth.Parse(ctx, token)` modificÄƒ `payload, err := facades.Auth.Parse(ctx, token)`, prin `payload`
poÈ›i obÈ›ine:

1. `Guard`: Garda curentÄƒ;
2. `Cheie`: Steagul utilizatorului;
3. `ExpireAt`: Timp de expirare;
4. `EmedAt`: Timp eliberat;

[Pentru detaliu](../security/authentication#parse-token)

### Unele metode de Orm adaugÄƒ noi valori de returnare

Versiune: v1.10.0

UrmÄƒtoarele metode adaugÄƒ valoarea `*Rezult` returneazÄƒ pentru a obÈ›ine numÄƒrul de rÃ¢nduri afectate:

```go
res, err := query.Delete(&user)
res, err := query.Exec(fmt.Sprintf [DELETE DIN utilizatori unde id = %d", user.ID)]
res, err := interogare. orceDelete(&User{})
res, err := query.Updates(User{Avatar: "avatar"})

// RÃ¢nduri afectate
num := res.RowsAfected
```
