# Actualizare la v1.12 de la v1.11

## v1.12.6

### Probleme rezolvate ğŸ›

- [ReparÄƒ problema JWT](#fix-the-problem-of-jwt)

## v1.12,5

### Probleme rezolvate ğŸ›

- [RemediaÈ›i problema facades.Orm().Query().Load()](#fix-the-problem-of-facades-orm-query-load)

## v1.12.4

### Probleme rezolvate ğŸ›

- [Problema cu panoul de Aruncare Middleware Tropical](#the-problem-of-the-throttle-middleware-throw-panic)

## v1.12.3

### Probleme rezolvate ğŸ›

- [Problema de marÈ™:package Comanda sub Windows](#the-problem-of-make-package-command-under-windows)

## v1.12.2

### Probleme rezolvate ğŸ›

- [Problema faÈ›ades.Gate() Ãntoarce-te nil](#the-problem-of-facades-gate-return-nil)

## v1.12.1

### Probleme rezolvate ğŸ›

- [Problema de panicÄƒ cauzatÄƒ de calea fiÈ™ierului Ã®n Windows](#the-panic-problem-caused-by-file-path-under-windows)

## v1.12.0

### FuncÈ›ii noi sunt incredibile ğŸ‰

- [Container(1.12.0)](#service-container)
- [Pachet de dezvoltare (1.12.0)](#package-development)
- [Add Carbon Module](#add-helpers-methods)

## ÃmbunÄƒtÄƒÈ›iri ğŸš€

- [Artizan Flag Adaos New Metods](#artisan-flag-adds-new-methods)
- [Add Helpers Methods](#add-helpers-methods)
- [Actualizare Dependenci](#upgrade-dependencies)
- [Migration Add New Methods](#migration-adds-new-methods)
- [Some `make` Commands Support Subdirectories](#some-make-commands-support-subdirectories)

## Ruperea modificÄƒrilor ğŸ› ï¸

- [ModificÄƒ tipul de apelare a faÈ›adei (1.12.0)](#_3-modify-facades)
- [Flag artizan optimizat (1.12.0)](#_6-modify-flag-in-the-artisan-command-if-using)
- [Suport implicit pentru S3, OSS, COS, Minio](#_7-filesystem-module-cancels-default-support-for-s3-oss-cos-minio)
- [Modulul Cache anuleazÄƒ suportul implicit pentru redis](#_8-cache-module-cancels-default-support-for-redis)
- [Change the Type of CreatedAt, Updatedat In Model](#_9-change-the-type-of-createdat-updatedat-in-model)
- [OptimizeazÄƒ regula modulului de validare](#_10-optimize-the-rule-of-validation-module)

## Ghid de actualizare

VÄƒ rugÄƒm sÄƒ actualizaÈ›i framework-ul pas cu pas Ã®n funcÈ›ie de conÈ›inutul din aceastÄƒ secÈ›iune.

**Timp estimat de actualizare: 30 de minute**

### 1. Actualizarea dependentelor

ActualizeazÄƒ dependenÈ›ele Ã®n fiÈ™ierul `go.mod`:

```
go get -u github.com/goravel/framework@v1.12.0 && go mod tidy
```

A apÄƒrut o eroare dupÄƒ ce rulaÈ›i `go mod tidy`, eroarea va fi rezolvatÄƒ dupÄƒ efectuarea urmÄƒtorilor paÈ™i de actualizare.

### 2. ModificaÈ›i `bootstrap/app.go`

```go
// Ãnainte de
aplicaÈ›ie := fundation.Application{}

// DupÄƒ
aplicaÈ›ie := fundation.NewApplication()
```

### 3. ModificÄƒ faÈ›ade.

| Ãnainte               | DupÄƒ                    |
| --------------------- | ----------------------- |
| `facades.Artisan`     | `facades.Artisan()`     |
| `facades.Auth`        | `facades.Auth()`        |
| `facades.Cache`       | `facades.Cache()`       |
| `facades.Config`      | `facades.Config()`      |
| `facades.Crypt`       | `facades.Crypt()`       |
| `facades.Event`       | `facades.Event()`       |
| `facades.Gate`        | `facades.Gate()`        |
| `facades.Grpc`        | `facades.Grpc()`        |
| `facades.Hash`        | `facades.Hash()`        |
| `facades.Log`         | `facades.Log()`         |
| `facades.Mail`        | `facades.Mail()`        |
| `facades.Orm`         | `facades.Orm()`         |
| `facades.coadÄƒ`       | `facades.coadÄƒ()`       |
| `facades.RateLimiter` | `facades.RateLimiter()` |
| `facades.Route`       | `facades.Route()`       |
| `facades.Schedule`    | `facades.Schedule()`    |
| `facades.Storage`     | `facades.Storage()`     |
| `facades.Validation`  | `facades.Validation()`  |

### 4. ModificaÈ›i `app/providers/*`

AdaugÄƒ import pentru toate fiÈ™ierele:

```go
import (
  "github.com/goravel/framework/contracts/foundation"
)
```

Toate metodele `Register`, `Boot` AdaugÄƒ parametrul de intrare `app foundation.Application`:

```go
func (destinatar *AppServiceProvider) Register(app foundation.Application) {}

func (receptor *AppServiceProvider) Boot(app fundation.Application) {}
```

### 5. ModificaÈ›i `app/config/app.go`

Modificare import:

```go
// Before
"github.com/goravel/framework/contracts"

"providers": []contracts.ServiceProvider{

// After
"github.com/goravel/framework/contracts/foundation"

"providers": []foundation.ServiceProvider{
```

### 6. ModificÄƒ steagul Ã®n comanda Artizan (DacÄƒ foloseÈ™ti)

Elementele din tipul `[]command.Flag` adaugÄƒ `&command.StringFlag`:

```go
// Ãnainte de comanda
func (destinatar *VendorPublishCommand) Extend(). xtend {
  return command.Extend{
    Category: "test",
    Flags: []command. lag{
      {
        Name: "test",
      },
    },
  }
} ComandÄƒ

// DupÄƒ
func (destinatar *VendorPublishCommand) Extend(). xtend {
  return command. Categoria xtend{
    : "test",
    Flags: []command.Flag{
      &comanda. tringFlag{
        Nume: "test",
      },
    },
  }
}
```

### 7. Modulul Filesystem anuleazÄƒ suportul implicit pentru S3, OSS, COS, Minio

pentru a reduce Ã®ncÄƒrcarea de trei ambalaje inutile, pentru a reduce volumul pachetelor È™i pentru a Ã®mbunÄƒtÄƒÈ›i eficienÈ›a compilÄƒrii;
Goravel va arunca treptat fiecare È™ofer de modul Ã®ntr-un pachet independent de expansiune. Ãn acest upgrade, modulul
`Filesystem` anuleazÄƒ suportul implicit pentru `S3`, `OSS`, `COS`, `Minio` driverele ÅŸi transferÄƒ suport pentru
pachete independente de extensie.

EliminÄƒ cheile din `config/filesystems.go::disks` cu excepÈ›ia `local` È™i driverele care folosesc:

```go
// Modificat
"disks": map[string]any{
  "local": harta[string]orice {
    "driver": "local",
    "rÄƒdÄƒcinÄƒ": "stocaj/app",
    "url": config. nv("APP_URL", "").(string) + "/storage",
  },
},
```

DacÄƒ folosiÈ›i alÈ›i È™oferi vÄƒ aÈ™teptaÈ›i la `local`, vÄƒ rugÄƒm sÄƒ consultaÈ›i documentaÈ›ia corespunzÄƒtoare pentru instalare:

| È˜ofer | Link-ul                                                                                              |
| ----- | ---------------------------------------------------------------------------------------------------- |
| S3    | [https://github.com/goravel/s3](https://github.com/goravel/s3)       |
| OSS   | [https://github.com/goravel/oss](https://github.com/goravel/oss)     |
| COS   | [https://github.com/goravel/cos](https://github.com/goravel/cos)     |
| Minio | [https://github.com/goravel/minio](https://github.com/goravel/minio) |

### 8. Modulul de cache anuleazÄƒ suportul implicit pentru Redis

EliminÄƒ cheia `redis` din `config/cache.go::stores` dacÄƒ nu o foloseÈ™ti:

```go
// Modificat
"stocuri": map[string]any{
  "memorie": hartÄƒ[string]oric{
    "driver": "memorie",
  },
},
```

DacÄƒ folosiÈ›i È™oferul `redis`, vÄƒ rugÄƒm sÄƒ consultaÈ›i documentaÈ›ia È™oferului `redis` pentru instalare:

| È˜ofer | Link-ul                                                                                              |
| ----- | ---------------------------------------------------------------------------------------------------- |
| Redis | [https://github.com/goravel/redis](https://github.com/goravel/redis) |

### 9. SchimbÄƒ tipul de creatAt, Actualizat Ãn Model(DacÄƒ foloseÈ™ti)

Pentru a face timpul sÄƒ scrie mai mult standard Ã®n rezultatul API, tipul de `CreatedAt`, `UpdatedAt` Ã®n `Model` modificare la
`carbon.DateTime` din `time.Time`. DacÄƒ aveÈ›i o procesare suplimentarÄƒ pentru aceste douÄƒ cÃ¢mpuri, puteÈ›i obÈ›ine tipul original
`time.Time` prin metoda `CreatedAt.ToStdTime()`.

### 10. OptimizeazÄƒ regula modulului de validare (dacÄƒ se foloseÈ™te)

VerificaÈ›i valoarea zero Ã®n regula originalÄƒ de validare, de exemplu, dacÄƒ regula este setatÄƒ la `datÄƒ` È™i `required` nu este setatÄƒ,
È™i cÃ¢mpul este gol sau nu este trecut, modulul de validare va solicita cÄƒ este necesar un cÃ¢mp. DupÄƒ optimizare, modulul de validare
va trece de verificare, care este mai intuitiv de utilizat. DacÄƒ utilizaÈ›i validarea relevantÄƒ, vÄƒ rugÄƒm
sÄƒ vÄƒ asiguraÈ›i cÄƒ actualizarea este cea aÈ™teptatÄƒ.

### 11. InstaleazÄƒ din nou dependenÈ›e

RulaÈ›i `go mod tidy`

## Introducere funcÅ£ie

### Container serviciu

Versiune: v1.12.0

Toate serviciile din Goravel sunt Ã®nregistrate Ã®n containerul serviciului, oferind un sprijin puternic pentru dezvoltarea pachetului
, [Pentru detaliu](../foundation/container)

### Pachet Dezvoltare

Versiune: v1.12.0

Pachetele sunt modul principal de a adÄƒuga funcÈ›ionalitate la Goravel, poate Ã®mbogÄƒÈ›i ecologia lui
Goravel, [Pentru Detalii](../advanced/package)

### Artizan de pavilion adaugÄƒ metode noi

Versiune: v1.12.0

AdÄƒugaÈ›i metode pentru modulul Artizan pentru a obÈ›ine diferite tipuri de
`Flag`, [Pentru Detalii](../advanced/artisan#options)

### AdaugÄƒ metode de ajutor

Versiune: v1.12.0

AdaugÄƒ metode de Heldere: `cale" È™i `carbon\`, poÈ›i obÈ›ine cu uÈ™urinÈ›Äƒ informaÈ›ii despre traseu È™i sÄƒ tratezi timpul Ã®n proiectul
, [Pentru detaliu](../advanced/helpers).

### Actualizare DependenÈ›e

Versiune: v1.12.0

Pentru a oferi suport mai bun pentru caracteristici, versiunile tuturor pachetelor de care depinde Goravel au fost actualizate.

### Migrare adauga metode noi

Versiune: v1.12.0

| Comenzi                           | AcÈ›iune                                                    |
| --------------------------------- | ---------------------------------------------------------- |
| migreazÄƒ:fresh    | RenunÈ›aÈ›i la toate tabelele È™i reexecutaÈ›i toate migrÄƒrile |
| migreazÄƒ:refresh  | ResetaÈ›i È™i reexecutaÈ›i toate migrÄƒrile                    |
| migreazÄƒ:resetare | Retromite toate migrÄƒrile bazei de date                    |
| migreazÄƒ:status   | AratÄƒ starea fiecÄƒrei migrÄƒri                              |

### Unele subdirectoare de suport pentru comenzi `make`

Versiune: v1.12.0

| å‘½ä»¤                                                         | ç”Ÿæˆæ–‡ä»¶                                                                              |
| ---------------------------------------------------------- | --------------------------------------------------------------------------------- |
| march:policy User/AuthPolicy               | app/policies/User/auth_policy.go             |
| make:command Goravel/CleanCache            | app/consolÄƒ/comandÄƒ/Goravel/clean_cache.go   |
| march:model Utilizator/Telefon             | app/modele/User/phone.go                                          |
| march:observer User/PhoneObserver          | app/observatori/User/phone_observer.go       |
| march:event User/GoravelEvent              | app/events/User/goravel_event.go             |
| make:listener User/GoravelListen           | app/listeners/User/goravel_listen.go         |
| march:controller Utilizator/AuthController | app/http/controllers/User/auth_controller.go |
| make:middleware Utilizator/Auth            | app/http/middleware/User/auth.go                                  |
| march:request User/Auth                    | app/http/requests/User/auth.go                                    |
| march:job Goravel/Job                      | app/jobs/Goravel/job.go                                           |
| mke:rule Utilizator/Telefon                | app/reguli/User/phone.go                                          |

### Problema de panicÄƒ cauzatÄƒ de calea fiÈ™ierelor Ã®n Windows

Versiune: v1.12.1

ReparÄƒ problema de panicÄƒ cauzatÄƒ de backslash atunci cÃ¢nd comanda `make` creeazÄƒ automat foldere sub Windows.

### Problema faÈ›ades.Gate() Revenire nulÄƒ

Versiune: v1.12.2

RemediaÈ›i problema `facades.Gate()` returneazÄƒ nil.

### Problema de facere:package Command Under Windows

Versiunea: v1.12.3

FiÈ™ierul creat prin comanda `make:package` are o cale greÈ™itÄƒ Ã®n Windows.

### Problema cu panica de Aruncare Middleware TropicalÄƒ

Versiune: v1.12.4

RemediaÈ›i problema panicii de lansare a middleware-ului de accelerare.

### ReparÄƒ problema facades.Orm().Query().Load()

Versiune: v1.12,5

RemediaÈ›i problema cÄƒ `facades.Orm().Query().Load()` nu poate Ã®ncÄƒrca corect modelul Ã®n unele cazuri.

### ReparÄƒ problema JWT

Versiune: v1.12.6

RemediaÈ›i problema cÄƒ atunci cÃ¢nd JWT Token este expirat È™i invalid, eroarea de expirare este returnatÄƒ, iar eroarea
este aÈ™teptatÄƒ sÄƒ fie returnatÄƒ primul.
