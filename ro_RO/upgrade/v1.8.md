# Actualizare la v1.8 De la v1.7

## Funcții noi sunt incredibile 🎉

- [Add model association for Orm(1.8.0)](#add-model-association-for-orm)

## Îmbunătățiri 🚀

- [Add methods for Request(1.8.0)](#add-methods-for-request)
- [Add methods for Response(1.8.0)](#add-methods-for-response)
- [Optimizează baza de date migrate(1.8.0)](#optimize-database-migrate)
- [Ruta suporta HTTPS(1.8.3)](#route-supports-https)

## Ruperea modificărilor 🛠️

- [Optimizare ordin de import (1.8.0)](#optimize-import-order)
- [mock.Validator change name(1.8.0)](#mock-validator-change-Name)
- [support.Mysql change name(1.8.0)](#support-mysql-change-name)
- [database.NewGormInstance este pe cale să fie învechit (1.8.0)](#database-newgorminstance-is-about-to-be-deprecated)

## Probleme rezolvate 🐛

- [Fix Orm concurrency issue(1.8.1)](#fix-orm-concurrency-safety-issue)
- [Modulul Fix Mail nu poate trimite e-mail cu 25 și 465 porturi (1.8.2)](#fix-mail-module-can-t-send-mail-by-25-and-465-ports)

## Ghid de actualizare

**Timp estimat de actualizare: 1 minut**

### Actualizarea dependentelor

Actualizează dependențele în fișierul `go.mod`:

```
du-te să primești -u github.com/goravel/framework@v1.8.3
```

### Adăugați modelul de asociere pentru Orm

Versiune: v1.8.0

Adăugați metode pentru Orm, pentru a manipula modelul de asociere:

| Metodă    | Acțiune                                                                                                  |
| --------- | -------------------------------------------------------------------------------------------------------- |
| Asociație | [Association](../orm/relationships#querying-associations)                                                |
| PO        | [Generic Database Interface sql.DB](../orm/quickstart#generic-database-interface-sqldb)  |
| Încărcare | [Incarcare leneșă Eager](../orm/relationships#lazy-eager-loading)                                        |
| Lipseste  | [Încărcătura leneșă a Eagerului (nu există)](../orm/relationships#lazy-eager-loading) |
| Omitere   | [Omit asocierile](../orm/relationships#create-or-update-associations)                                    |
| Cu        | [Încărcare rapidă](../orm/relationships#Eager-Loading)                                                   |

### Adaugă metode pentru cerere

Versiune: v1.8.0

Adăugați metode pentru `ctx.Request()`, pentru a îmbogăți formatul parametrilor `Query`:

| Metodă       | Acțiune                                                                              |
| ------------ | ------------------------------------------------------------------------------------ |
| `QueryArray` | [Obține parametrii array](../basic/requests#Retrieving-Input-From-The-Query-String)  |
| `QueryMap`   | [Obține parametrii hărții](../basic/requests#Retrieving-Input-From-The-Query-String) |

### Add-methods-pentru-Răspuns

Versiune: v1.8.0

Adaugă metoda `Origin` la `ctx.Response()`, poți obține toate informațiile despre `Response` în middleware-ul HTTP.

[Detail](../basic/responses#Get-Response)

### Optimizează ordinea de import

Versiune: v1.8.0

Ordinea de import în fișierul `bootstrap/app.go` se schimbă la:

```go
package bootstrap

import (
  "github.com/goravel/framework/foundation"

  "goravel/config"
)
```

[Fișier](https://github.com/goravel/goravel/blob/v1.8.0/bootstrap/app.go)

### Optimizare bază de date migrare

Versiune: v1.8.0

Rulează comanda care generează fișierul de migrare: `go run . artizan make:migration create_users_table', fișierul de migrare corespunzător
va fi generat pe baza șoferului implicit de date în uz (
`facades.Config.GetString("bază de date.default")\`).

### mock.Validator Schimbare Nume

Versiune: v1.8.0

Dacă folosiți `mock.Validator` pentru a scrie testele de unitate, sunt necesare următoarele modificări:

```
import "github.com/goravel/framework/testing/mock"

mock.Validator

// Modificare la

import "github.com/goravel/framework/testing/mock"

mock.Validation
```

[Detail](../testing/mocks)

### support.Mysql Schimbare Nume

Versiune: v1.8.0

Dacă folosiți constante de cadru cum ar fi `support.Mysql` pentru a judeca driver-ul bazei de date, trebuie să faceți următoarele modificări
:

```go
import "github.com/goravel/framework/database/support"

support.Mysql
support.Postgresql
support.Sqlite
support.Sqlserver

// Modifică la

import "github.com/goravel/framework/contracts/database/orm"

orm.Mysql
orm.Postgresql
orm.Sqlite
orm.Sqlserver
```

Noile constante precum `orm.Mysql` sunt de tip `orm.Driver` și pot fi convertite într-un tip de șir folosind metoda
`orm.Mysql.String()`.

### Bază.NewGormInstance este pe cale să fie învechit

Versiune: v1.8.0

Metoda `bază de date.NewGormInstance` va fi învechită în v1.9. versiune, poate fi folosită în versiunea curentă, dacă
utilizaţi metoda pentru a obţine instanţa `gorm`, următoarele modificări sunt necesare:

```go
import "github.com/goravel/framework/database"

gorm, err := database.NewGormInstance(connection)

// Modificare la

import "github.com/goravel/framework/database/gorm"

gorm, err := gorm.New(connection)
```

### Repară problema de siguranță a convalutei Orm

Versiune: v1.8.1

Când accesul concomitent este mare, citirea `facades.Orm` pentru prima dată poate returna zero.

### Modulul Fix Mail nu poate trimite mail cu 25 si 465 porturi

Versiune: v1.8.2

Poți trimite mesaje cu 25, 465, 587 porturi acum.

### Ruta suportă HTTPS

Versiune: v1.8.3

`facades.Route` Adaugă metoda `RunTLS`, suportă pornire HTTPS
server, [Pentru detalii](../basic/routing#start-https-server).
